<!--Matt Hay ~ Web ~ 11/16/21-->
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <script src="{{url_for('static', filename='gameScreen.js')}}"></script>
        <script src="https://unpkg.com/konva@8.3.0/konva.min.js"></script>
        <!--<title> In-Game: {{game.name}} </title>-->
    </head>
    <header>
        <nav class="navbar navbar-expand-sm navbar-light bg-light">
          <div class="container-fluid">
            <a class="navbar-brand" style="font-weight:bold"> Game: {{game.name}} </a>
          </div>
          <div class="d-flex">
            <a href="{{url_for('home')}}">
            <button style="" class="btn btn-outline-success my-2 my-sm-0" type="submit"> Home </button>
            </a>
            <a href="{{url_for('viewCharacters')}}">
            <button style="" class="btn btn-outline-success my-2 my-sm-0 mx-2" type="submit"> Characters </button>
            </a>
          </div>
        </nav>

        <div id="username" class="{{user}}" style="display:none;">
      </header>
    <body>
        <div id="Sidebar" class="m-2 d-flex flex-column align-items-stretch flex-shrink-0 bg-white border" 
          style="width: 380px; position:fixed; left:0; height:100%;">
          <!--Sidebar header-->
          <div class="d-flex align-items-center flex-shrink-0 p-3 link-dark text-decoration-none border-bottom">
            <span class="fs-5 fw-semibold"> Live Game Feed </span>
          </div>
          <!--LIST DIV-->
          <div id="msg-feed" class="panel-body border m-2 scrollarea" 
            style="overflow-y: scroll !important; height:250px !important; overflow-x: hidden;">
              <!--LIST ITEMS GO HERE-->
              <div class="left clearfix border-bottom my-1" style="">
                <p class="mx-2" style="color:MediumSeaGreen; word-break: break-all;"> Your Adventure Awaits! </p>
              </div>
          </div>

          <div class="input-actions">
            <form role="form">
              <div class="form-group m-2">
                <textarea id="msg-box" class="form-control " style="resize:none; height:45px;" 
                  placeholder="Enter message..."></textarea>
              </div>
              <div class="form-group m-2">
                <button id="sendMsg-btn" type="button" class="btn border"> Send </button>
              </div>
            </form>

            <button id="roll-D6" style="" class="btn btn-outline-success m-2" > Roll D6 </button>
            <button id="roll-D10" style="" class="btn btn-outline-success m-2" > Roll D10 </button>
            <button id="roll-D20" style="" class="btn btn-outline-success m-2" > Roll D20 </button>
          </div>
        </div>
        <!-- Game Board -->
        <div id="GameBoard" class="m-8 d-flex flex-column align-items-stretch flex-shrink-0 bg-grey border">
          <div id="container"></div>
        </div>
        <script>
          var width = window.innerWidth;
          var height = window.innerHeight;

          var stage = new Konva.Stage({
          container: 'container',
          width: width,
          height: height,
          });

          var layer = new Konva.Layer();
          var rectX = stage.width() / 2 - 50;
          var rectY = stage.height() / 2 - 25;

          var box = new Konva.Rect({
          x: rectX,
          y: rectY,
          width: 100,
          height: 50,
          fill: '#00D2FF',
          stroke: 'black',
          strokeWidth: 4,
          draggable: true,
          });

          // add bounds to the silly little box
          box.on('dragmove', () => {
            box.y(Math.max(box.y(), width));
          });

          // add cursor styling
          box.on('mouseover', function () {
            document.body.style.cursor = 'pointer';
          });
          box.on('mouseout', function () {
          document.body.style.cursor = 'default';
          });

          layer.add(box);
          stage.add(layer);
        </script>
        
    </body>
</html>